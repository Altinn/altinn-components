import { Meta, Controls, Primary, Canvas } from "@storybook/blocks";
import * as LayoutStories from "./Layout.stories";
import * as HeaderStories from "../Header/Header.stories";
import * as FooterStories from "../Footer/Footer.stories";

<Meta title="Layout" />

# Global Layout

The global layout is shared accross applications and provides a common `Header` and `Footer`, as well as a container for a local `Menu`.

Use `Layout` by providing the global `header` and `footer` props, and an optional `sidebar`. Wrap your application in `RootProvider` to enable shared context across all components.

Add a `color` and a `theme` and include the content for your application as `children`.

```tsx
import { RootProvider, Layout } from '@altinn/components';

function App() {
  return (
    <RootProvider>
      <Layout {...layoutProps} color={<Color>} theme={<Theme>}>
        { /* Your application here */ }
      </Layout>
    </RootProvider>
  );
}
```

## The Header

Use `header` to includes a global menu and search, as well as an account switcher when user is logged in.

<Canvas of={HeaderStories.CurrentAccount} />

Prior to login, the global menu should include a prominent link to signing in.

<Canvas of={HeaderStories.Login} />

## The Footer

Use `footer` to includes an address and a list of helpful links.

<Canvas of={FooterStories.Default} />

## The Sidebar

Use `sidebar` to unclude an optional local menu. It can be hidden, or omitted completely. When omitted main content will span the full width of the page.

## Layout composition

While the preferred way of using layout is the `Layout` component itself, it is possible to build a layout using the underlying components.

```tsx
import { LayoutBase, Header, LayoutBody, LayoutSidebar, Menu, LayoutContent, Footer } from "@altinn/altinn-components";

return (
  <LayoutBase>
    <Header />
    <LayoutBody>
        <LayoutSidebar>
            <Menu />
        <LayoutContent>
            <!-- Your content -->
        </LayoutContent>
    </LayoutBody>
    <Footer />
  </LayoutBase>
);
```

## Preview

Layout with sidebar.

<Canvas of={LayoutStories.Preview} />

Layout with hidden sidebar.

<Canvas of={LayoutStories.HiddenSidebar} />
